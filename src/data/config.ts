// Block Generation Configuration - Converted from configs.csv
// Scenarios and weight tables per drop number

import { GenerationMode } from './constants';

// Scenario mode for each drop (1-40, index 0 = drop 1)
// F = Favorable (AI-assisted), R = Random, S = Standard, A = Ad Continue
export const SCENARIOS: GenerationMode[] = [
  'F', 'F', 'S', 'F', 'F', 'F', 'F', 'F', 'F', 'F',  // Drops 1-10
  'F', 'F', 'F', 'F', 'F', 'F', 'F', 'F', 'F', 'F',  // Drops 11-20
  'F', 'F', 'F', 'F', 'F', 'F', 'F', 'F', 'F', 'F',  // Drops 21-30
  'F', 'F', 'F', 'F', 'F', 'F', 'F', 'F', 'F', 'F',  // Drops 31-40
];

// Weight table: WEIGHTS[figureIndex][dropIndex]
// Each row corresponds to a figure in the same order as FIGURES array
// Each column corresponds to a drop number (0 = drop 1, 39 = drop 40)
// Weight 0 = figure not available at that drop
export const WEIGHTS: number[][] = [
  // Iv5 (index 0)
  [0, 0, 10, 10, 45, 45, 60, 60, 60, 60, 5, 5, 5, 5, 5, 5, 5, 60, 60, 60, 20, 20, 5, 5, 5, 5, 5, 5, 5, 5, 20, 20, 40, 40, 40, 80, 20, 20, 20, 80],

  // Ig5 (index 1)
  [0, 0, 10, 10, 45, 45, 60, 60, 60, 60, 5, 5, 5, 5, 5, 5, 5, 60, 60, 60, 20, 20, 5, 5, 5, 5, 5, 5, 5, 5, 20, 20, 40, 40, 40, 80, 20, 20, 20, 80],

  // J12 (index 2)
  [0, 0, 10, 10, 45, 45, 60, 60, 60, 60, 70, 70, 70, 70, 70, 70, 70, 25, 25, 25, 20, 20, 100, 100, 60, 60, 60, 25, 60, 100, 100, 100, 25, 25, 25, 100, 20, 20, 20, 100],

  // L6 (index 3)
  [0, 0, 0, 0, 0, 0, 60, 60, 60, 60, 70, 70, 70, 70, 70, 70, 70, 0, 0, 0, 20, 20, 100, 100, 60, 60, 60, 0, 60, 100, 100, 100, 0, 0, 0, 100, 20, 20, 20, 100],

  // J3 (index 4)
  [0, 0, 0, 0, 0, 0, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 0, 0, 0, 25, 25, 25, 25, 25, 25, 25, 0, 25, 25, 25, 25, 0, 0, 0, 25, 25, 25, 25, 25],

  // L9 (index 5)
  [0, 0, 0, 0, 0, 0, 60, 60, 60, 60, 70, 70, 70, 70, 70, 70, 70, 0, 0, 0, 20, 20, 100, 100, 60, 60, 60, 0, 60, 100, 100, 100, 0, 0, 0, 100, 20, 20, 20, 100],

  // L12 (index 6)
  [0, 0, 0, 0, 0, 0, 60, 60, 60, 60, 70, 70, 70, 70, 70, 70, 70, 0, 0, 0, 20, 20, 100, 100, 60, 60, 60, 0, 60, 100, 100, 100, 0, 0, 0, 100, 20, 20, 20, 100],

  // J6 (index 7)
  [0, 0, 0, 0, 0, 0, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 0, 0, 0, 25, 25, 25, 25, 25, 25, 25, 0, 25, 25, 25, 25, 0, 0, 0, 25, 25, 25, 25, 25],

  // L3 (index 8)
  [0, 0, 0, 0, 0, 0, 60, 60, 60, 60, 70, 70, 70, 70, 70, 70, 70, 0, 0, 0, 20, 20, 100, 100, 60, 60, 60, 0, 60, 100, 100, 100, 0, 0, 0, 100, 20, 20, 20, 100],

  // J9 (index 9)
  [0, 0, 0, 0, 0, 0, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 0, 0, 0, 20, 20, 25, 25, 25, 25, 25, 0, 25, 25, 25, 25, 0, 0, 0, 25, 25, 25, 25, 25],

  // LL9 (index 10)
  [5, 5, 10, 10, 45, 45, 60, 60, 60, 60, 70, 70, 70, 70, 70, 70, 70, 25, 25, 25, 25, 25, 25, 25, 60, 60, 60, 5, 60, 25, 25, 25, 5, 5, 5, 25, 25, 25, 25, 25],

  // LL6 (index 11)
  [5, 5, 5, 5, 5, 5, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 5, 5, 5, 25, 25, 25, 25, 25, 25, 25, 5, 25, 25, 25, 25, 5, 5, 5, 25, 25, 25, 25, 25],

  // LL12 (index 12)
  [1, 1, 5, 5, 5, 5, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 5, 5, 5, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 5, 5, 5, 10, 10, 10, 10, 10],

  // LL3 (index 13)
  [1, 1, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],

  // Iv2 (index 14)
  [0, 0, 10, 10, 10, 20, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25],

  // Ig2 (index 15)
  [0, 0, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],

  // Iv3 (index 16)
  [30, 30, 10, 10, 10, 10, 60, 60, 60, 60, 70, 70, 70, 70, 70, 70, 70, 25, 25, 25, 25, 25, 5, 5, 5, 5, 5, 5, 5, 5, 25, 25, 20, 20, 20, 25, 25, 25, 25, 25],

  // Ig3 (index 17)
  [30, 30, 10, 10, 10, 10, 60, 60, 60, 60, 70, 70, 70, 70, 70, 70, 70, 25, 25, 25, 25, 25, 5, 5, 5, 5, 5, 5, 5, 5, 25, 25, 20, 20, 20, 25, 25, 25, 25, 25],

  // Ov (index 18)
  [90, 90, 60, 0, 0, 0, 60, 60, 60, 60, 70, 70, 70, 70, 70, 70, 70, 0, 0, 0, 0, 0, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25],

  // Og (index 19)
  [10, 60, 60, 0, 0, 0, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 0, 0, 0, 0, 0, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25],

  // O4 (index 20)
  [10, 90, 60, 0, 0, 0, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 0, 0, 0, 0, 0, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15],

  // T12 (index 21)
  [0, 0, 0, 0, 0, 0, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 0, 0, 0, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 0, 0, 0, 60, 60, 60, 60, 60],

  // T6 (index 22)
  [0, 0, 0, 0, 0, 0, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 0, 0, 0, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 0, 0, 0, 45, 45, 45, 45, 45],

  // T3 (index 23)
  [0, 0, 0, 0, 0, 0, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 0, 0, 0, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 0, 0, 0, 30, 30, 30, 30, 30],

  // T9 (index 24)
  [0, 0, 0, 0, 0, 0, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 0, 0, 0, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 0, 0, 0, 15, 15, 15, 15, 15],

  // /2 (index 25)
  [0, 0, 0, 0, 0, 60, 60, 60, 60, 60, 70, 70, 70, 70, 70, 70, 70, 0, 0, 0, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0, 0, 0, 5, 5, 5, 5, 5],

  // \2 (index 26)
  [0, 0, 0, 0, 0, 60, 60, 60, 60, 60, 70, 70, 70, 70, 70, 70, 70, 0, 0, 0, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0, 0, 0, 5, 5, 5, 5, 5],

  // r9 (index 27)
  [0, 0, 0, 0, 0, 0, 60, 60, 60, 60, 70, 70, 70, 70, 70, 70, 70, 90, 20, 20, 45, 45, 90, 90, 90, 90, 90, 30, 90, 90, 90, 90, 20, 20, 20, 90, 90, 90, 90, 90],

  // r3 (index 28)
  [0, 0, 0, 0, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 20, 20, 45, 45, 45, 45, 45, 45, 45, 30, 45, 45, 45, 45, 20, 20, 20, 45, 45, 45, 45, 45],

  // r12 (index 29)
  [0, 0, 0, 0, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 30, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20],

  // r6 (index 30)
  [0, 0, 0, 0, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 30, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20],

  // Iv1 (index 31) - Single block, always weight 0 in normal play
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],

  // Iv4 (index 32)
  [30, 30, 10, 10, 10, 20, 70, 70, 70, 70, 80, 80, 80, 80, 80, 80, 80, 70, 20, 20, 20, 20, 5, 5, 5, 5, 5, 5, 5, 5, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30],

  // Ig4 (index 33)
  [30, 30, 10, 10, 10, 20, 70, 70, 70, 70, 80, 80, 80, 80, 80, 80, 80, 70, 20, 20, 20, 20, 5, 5, 5, 5, 5, 5, 5, 5, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30],

  // O9 (index 34) - 3x3 square
  [90, 25, 25, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 25, 25, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 30, 30, 30, 5, 5, 5, 5, 5],

  // Sv (index 35)
  [0, 0, 0, 20, 20, 20, 60, 60, 60, 60, 70, 70, 70, 70, 70, 70, 70, 60, 20, 20, 45, 45, 5, 5, 5, 5, 5, 5, 5, 5, 90, 90, 30, 30, 30, 90, 90, 90, 90, 90],

  // Zv (index 36)
  [0, 0, 0, 20, 20, 20, 60, 60, 60, 60, 70, 70, 70, 70, 70, 70, 70, 60, 20, 20, 45, 45, 5, 5, 5, 5, 5, 5, 5, 5, 90, 90, 30, 30, 30, 90, 90, 90, 90, 90],

  // Sg (index 37)
  [0, 0, 0, 20, 20, 20, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 20, 20, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30],

  // Zg (index 38)
  [0, 0, 0, 20, 20, 20, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 20, 20, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30],

  // /3 (index 39)
  [0, 0, 0, 0, 10, 85, 3, 3, 3, 3, 3, 3, 3, 15, 15, 15, 25, 3, 100, 40, 5, 5, 5, 3, 20, 40, 60, 100, 60, 5, 5, 5, 15, 75, 100, 2, 2, 2, 2, 2],

  // \3 (index 40)
  [0, 0, 0, 0, 10, 85, 3, 3, 3, 3, 3, 3, 3, 15, 15, 15, 25, 3, 100, 40, 5, 5, 5, 3, 20, 40, 60, 100, 60, 5, 5, 5, 15, 75, 100, 1, 1, 1, 1, 1],

  // H9 (index 41)
  [0, 0, 0, 0, 10, 85, 0, 0, 0, 0, 0, 0, 0, 15, 15, 15, 25, 3, 100, 40, 5, 5, 5, 3, 20, 40, 60, 100, 60, 5, 5, 5, 15, 75, 100, 5, 5, 5, 5, 5],
];

// Get the scenario mode for a given drop number
export function getScenario(dropNumber: number): GenerationMode {
  if (dropNumber < 1) return 'S';
  if (dropNumber > 40) return 'S'; // After 40, default to standard
  return SCENARIOS[dropNumber - 1];
}

// Get the weight for a figure at a given drop number
export function getWeight(figureIndex: number, dropNumber: number): number {
  if (figureIndex < 0 || figureIndex >= WEIGHTS.length) return 0;
  const dropIndex = Math.min(Math.max(dropNumber - 1, 0), 39);
  return WEIGHTS[figureIndex][dropIndex];
}

// Get all weights for a drop number
export function getWeightsForDrop(dropNumber: number): number[] {
  const dropIndex = Math.min(Math.max(dropNumber - 1, 0), 39);
  return WEIGHTS.map(w => w[dropIndex]);
}

// Calculate total weight of available figures for a drop
export function getTotalWeight(dropNumber: number): number {
  return getWeightsForDrop(dropNumber).reduce((sum, w) => sum + w, 0);
}
